version: '3.6'

services:
  spot:
    build: .
    entrypoint:
      - coverage
      - run
      - --source=searx
    command:
      - /usr/local/bin/searx-run
    volumes:
      - coverage:/coverage
    environment:
      COVERAGE_FILE: /coverage/func

volumes:
  coverage:
    name: spot-coverage
