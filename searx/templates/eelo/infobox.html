{% from 'eelo/macros.html' import result_link with context %}

<div class="infobox">
    <div class="head">
        <h4 class="title">{{ infobox.infobox }}</h4>
        <small>{{infobox.engine}}</small>
    </div>

    <div class="body">

        <div class="main-content">
            {% if infobox.img_src %}
            <div class="image-container">
                <img class="main-image" src="{{ image_proxify(infobox.img_src) }}" alt=""/>
            </div>
            {% endif %}
    
            {% if infobox.content %}
            <p class="content"><bdi>{{ infobox.content }}</bdi></p> 
            {% endif %}
        </div>

        {% if infobox.attributes %}
        <table class="table table-striped infobox_part">
            {% for attribute in infobox.attributes %}
            <tr>
                <td><bdi>{{ attribute.label }}</bdi></td>
                {% if attribute.image %}
                <td><img class="img-responsive" src="{{ image_proxify(attribute.image.src) }}" alt="{{ attribute.image.alt }}" /></td>
                {% else %}
                <td><bdi>{{ attribute.value }}</bdi></td>
                {% endif %}
            </tr>
            {% endfor %}
        </table>
        {% endif %}
    </div>

    <div class="footer">
        {% if infobox.urls %}
        <div class="links">
            <bdi>
            {% for url in infobox.urls %}
            <p>{{ result_link(url.url, url.title, 'btn btn-default btn-block') }}</p>
            {% endfor %}
            </bdi>
        </div>
        {% endif %}
    </div>
</div>
